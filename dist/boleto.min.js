/*!
 * boleto.js v0.0.1
 * https://github.com/guilhermearaujo/boleto.js
 *
 * Licensed MIT © Guilherme Araújo
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Boleto=e()}}(function(){var e,t,r;return function e(t,r,n){function i(o,a){if(!r[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(u)return u(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var f=r[o]={exports:{}};t[o][0].call(f.exports,function(e){var r=t[o][1][e];return i(r?r:e)},f,f.exports,e,t,r,n)}return r[o].exports}for(var u="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){"string"==typeof e&&(e=e.split("")),e.reverse();for(var t=0,r=0;r<e.length;r++)t+=(r%8+2)*e[r];return(11-t%11)%10||1}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("./svg"),c=n(a),s=e("./itf"),f=function(){function e(t){if(i(this,e),this.bankSlipNumber=t.replace(/[^\d]/g,""),!this.valid())throw new Error("Invalid bank slip number")}return o(e,[{key:"valid",value:function e(){if(47!=this.bankSlipNumber.length)return!1;var t=this.barcode().split(""),r=t.splice(4,1);return u(t)==r}},{key:"barcode",value:function e(){return this.bankSlipNumber.replace(/^(\d{4})(\d{5})\d{1}(\d{10})\d{1}(\d{10})\d{1}(\d{15})$/,"$1$5$2$3$4")}},{key:"number",value:function e(){return this.bankSlipNumber}},{key:"prettyNumber",value:function e(){return this.bankSlipNumber.replace(/^(\d{5})(\d{5})(\d{5})(\d{6})(\d{5})(\d{6})(\d{1})(\d{14})$/,"$1.$2 $3.$4 $5.$6 $7 $8")}},{key:"bank",value:function e(){switch(this.barcode().substr(0,3)){case"001":return"Banco do Brasil";case"033":return"Santander";case"104":return"Caixa Econômica Federal";case"237":return"Bradesco";case"341":return"Itaú";case"356":return"Banco Real";case"389":return"Banco Mercantil do Brasil";case"399":return"HSBC";case"422":return"Banco Safra";case"453":return"Banco Rural";case"633":return"Banco Rendimento";case"652":return"Unibanco";case"745":return"Citibank";default:return"Unknown"}}},{key:"currency",value:function e(){switch(this.barcode()[3]){case"9":return{code:"BRL",symbol:"R$",decimal:","};default:return"Unknown"}}},{key:"checksum",value:function e(){this.barcode()[4]}},{key:"expirationDate",value:function e(){var t=new Date("1997-10-07"),r=this.barcode().substr(5,4);return new Date(t.getTime()+864e5*r)}},{key:"amount",value:function e(){return this.barcode().substr(9,10)/100}},{key:"prettyAmount",value:function e(){var t=this.currency();return"Unknown"==t?this.amount().toFixed(2):t.symbol+" "+this.amount().toFixed(2).replace(".",t.decimal)}},{key:"toSVG",value:function e(t){var r=s.encode(this.barcode());new c.default(r).render(t)}}]),e}();t.exports=f},{"./itf":2,"./svg":3}],2:[function(e,t,r){"use strict";function n(e){return o+e.match(/(..?)/g).map(i).join("")+a}function i(e){for(var t=u[Math.floor(e/10)],r=u[e%10],n="",i=0;i<5;i++)n+=t[i],n+=r[i];return n}var u=["11221","21112","12112","22111","11212","21211","12211","11122","21121","12121"],o="1111",a="211";t.exports={encode:n}},{}],3:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(){function e(t,r){n(this,e),this.stripes=t.split("").map(function(e){return parseInt(e,10)}),this.stripeWidth=r||4}return i(e,[{key:"render",value:function e(t){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");t.appendChild(r);for(var n=0,i=0;i<this.stripes.length;i++,n+=u){var u=this.stripeWidth*this.stripes[i],o=document.createElementNS("http://www.w3.org/2000/svg","rect");o.setAttribute("width",u),o.setAttribute("height",100),o.setAttribute("fill",this.color(i)),o.setAttribute("x",n),o.setAttribute("y",0),r.appendChild(o)}r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("viewBox","0 0 "+this.viewBoxWidth()+" 100")}},{key:"viewBoxWidth",value:function e(){return this.stripes.reduce(function(e,t){return e+t},0)*this.stripeWidth}},{key:"color",value:function e(t){return t%2?"#ffffff":"#000000"}}]),e}();t.exports=u},{}]},{},[1])(1)});